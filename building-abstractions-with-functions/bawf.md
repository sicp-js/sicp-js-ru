# Глава 1

# Построение абстракции с помощью функции

>Действия, в которых ум проявляет свои способности в отношении своих простых идей, суть главным образом следующие три: 1) Соединение нескольких простых идей в одну сложную; так образовались все сложные идеи, 2) Сведение вместе двух идей, все равно, простых или сложных, и сопоставление их друг с другом так, чтобы обозревать их сразу, но не соединять в одну; так ум приобретает все свои идеи отношений, 3) Обособление идей от всех других идей, сопутствующих им в реальной действительности; это действие называется «абстрагированием», и при его помощи образованы все общие идеи в уме.

Джон Локк. «Опыт о человеческом разуме» (1690) (Перевод А.Н. Савина)

---

Мы собираемся изучать понятие *вычислительного процесса* (computational process). Вычислительные процессы — это абстрактные существа, которые живут в компьютерах. Развиваясь, процессы манипулируют абстракциями другого типа, которые называются *данными* (data). Эволюция процесса направляется набором правил, называемым *программой* (program). В сущности, мы заколдовываем духов компьютера с помощью своих чар.

Вычислительные процессы и вправду вполне соответствуют представлениям колдуна о духах. Их нельзя увидеть или потрогать. Они вообще сделаны не из вещества. В то же время они совершенно реальны. Они могут выполнять умственную работу, могут отвечать на вопросы. Они способны воздействовать на внешний мир, оплачивая счета в банке или управляя рукой робота на заводе. Программы, которыми мы пользуемся для заклинания процессов, похожи на чары колдуна. Они тщательно составляются из символических выражений на сложных и немногим известных *языках программирования* (programming languages), описывающих задачи, которые мы хотим поручить процессам.

На исправно работающем компьютере вычислительный процесс выполняет программы точно и безошибочно. Таким образом, подобно ученику чародея, программисты-новички должны научиться понимать и предсказывать последствия своих заклинаний. Даже мелкие ошибки (их обычно называют *блохами* (bugs) или *глюками* (glitches)), могут привести к сложным и непредсказуемым последствиям.

К счастью, обучение программированию не так опасно, как обучение колдовству, поскольку духи, с которыми мы имеем дело, надежно связаны. В то же время программирование в реальном мире требует осторожности, профессионализма и мудрости. Например, мелкая ошибка в программе автоматизированного проектирования может привести к катастрофе самолета, прорыву плотины или самоуничтожению промышленного робота.

Специалисты по программному обеспечению умеют организовывать программы так, чтобы быть потом обоснованно уверенными: получившиеся процессы будут выполнять те задачи, для которых они предназначены. Они могут изобразить поведение системы заранее. Они знают, как построить программу так, чтобы непредвиденные проблемы не привели к катастрофическим последствиям, а когда эти проблемы возникают, программисты умеют *отлаживать* (debug) свои программы. Хорошо спроектированные вычислительные системы, подобно хорошо спроектированным автомобилям или ядерным реакторам, построены модульно, так что их части могут создаваться, заменяться и отлаживаться по отдельности.

### Программирование на JavaScript

Для описания процессов нам нужен подходящий язык, и с этой целью мы используем язык программирования JavaScript. Точно так же, как обычные наши мысли чаще всего выражаются на естественном языке (например, английском, французском или японском), а описания количественных явлений выражаются языком математики, наши описания процессов будут выражены на JavaScript. JavaScript был изобретен в начале 1990-х как язык программирования для управления поведением браузеров World Wide Web через скрипты, которые появляются на веб-страницах. Язык был придуман Бренданом Эйхом, первоначально под именем *Mocha*, который позднее был переименован в *LiveScript* и, наконец, в JavaScript. Название «JavaScript» является торговой маркой Sun Microsystems.

JavaScript, несмотря на свое начало как язык для управления браузерами, является языком программирования общего назначения. *Интерпретатор* (interpreter) языка JavaScript представляет собой машину, которая выполняет процессы, описанные на языке JavaScript. Первый интерпретатор JavaScript написал сам Брендан Эйх в Netscape Communications Corporation для веб-браузера Netscape Navigator. Основные возможности JavaScript унаследованы от языков программирования Scheme и Self. Scheme является диалектом языка Lisp и использовалась в качестве языка программирования для оригинальной версии этой книги. Из Scheme, JavaScript унаследовал самые фундаментальные принципы разработки, такие как функции первого класса со статической областью видимости и динамическая типизация, и в результате чего, было довольно просто перевести примеры из этой книги со Scheme на JavaScript.

JavaScript имеет лишь поверхностное сходство с языком Java, после чего он был (в конечном счете) переименован; Также как и Java, JavaScript использует блочную структуру языка C. В отличие от Java и C, которые компилируются в языки более низкого уровня, код на JavaScript обычно интерпретируется веб-браузерами. Вслед за веб-браузером Netscape Navigator, другие веб-браузеры также предоставили интерпретаторы для JavaScript, в том числе Microsoft Internet Explorer, чья версия язы JavaScript называется *JScript*. Популярность языка JavaScript для управления веб-браузерами привела к усилиям по созданию стандартизации, завершившимся стандартизированной версией языка ECMAScript. Первое издание стандарта ECMAScript возглавил Гай Льюис Стил младший, которое закончилось в июне 1997 года (Ecma 1997). Третье издание, которое используется в этой книге, возглавил Майк Коулишоу и закончил в декабре 1999 года.

Практика внедрения программ на JavaScript на веб-страницах побудила разработчиков веб-браузеров реализовывать интерпретаторы JavaScript. По мере усложнения этих программ, интерпретаторы стали более эффективными в их выполнении, в конечном счете используя сложные методы реализации, такие как компиляция Just-In-Time (JIT). Большинство программ на JavaScript (начиная с 2013 года) встроены в веб-страницы и интерпретируется браузерами, но JavaScript также используется для создания скриптов на панелях инструментов на компьютерах Apple, работающих под управлением операционной системы OS X, для управления такими программными системами, как Adobe Reader и Adobe Flash, а также, таких устройств, как универсальные удаленные панели.

Тем не менее, существует возможность браузерами выполнять код, написанный на JavaScript, что делает его идеальным языком для онлайн-версии учебника по программированию. Выполнение программ происходит всего лишь нажатием на веб-странице, что естественно происходит в JavaScript - ведь именно для этого и был разработан JavaScript! Более того, в своей основе, JavaScript, обладает некоторыми особенностями, которые делают его отличным средством для изучения важных частей программирования и структур данных, и их отношения к лингвистическим особенностям, которые их поддерживают. Функции первого класса в JavaScript обеспечивают прямой и выразительный доступ к механизмам абстракции, а динамическая типизация устраняет необходимость в объявлении типов данных, которыми манипулирует программа. А помимо и превыше всех этих соображений, писать программы на JavaScript — громадное удовольствие.

### ES6

По мере перевода, постараюсь также перевести все примеры из данной книги по последнему стандарту ES6 (ECMAScript 2015).

[1.1. Элементы программирования](ch1-1.md)
